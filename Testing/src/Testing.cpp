//============================================================================
// Name        : Testing.cpp
// Author      : 
// Version     :
// Copyright   : Your copyright notice
// Description : Hello World in C++, Ansi-style
//============================================================================

#include "Genera.h"

int main() {

	const int NUM_BYTES = 688;
	const int LEN = 16;

	int myArray[NUM_BYTES];

	ifstream inFile("myFile.txt");
	int temp = 0;
	while (!inFile.eof())
	{
		for (int i = 0; i < NUM_BYTES; i ++)
		{
			inFile >> temp;
			myArray[i] = temp;
		}
	}

	// Header in hex:
	// 89 50 4e 47
	// 0d 0a 1a 0a
	// 00 00 00 0d
	// 49 48 44 52

	int correctHeader[16] =
			{137, 80, 78, 71,
			13, 10, 26, 10,
			0, 0, 0, 13,
			73, 72, 68, 82};

	// int correctTail[8] = {73, 69, 78, 68, 174, 66, 96, 130};

	int key[LEN];

	for (int i = 0; i < LEN; i ++)
	{
		for (int currentShift = 0; currentShift < 43; currentShift ++)
		{
			int x = ((currentShift * 16) % NUM_BYTES) + i;
			if (correctHeader[i] == (myArray[x]))
			{
				cout << "Passed " << i << ": " << currentShift + 48 << endl;
				key[i] = currentShift + 48;
			}
			/*
			int y = (((42 + currentShift) * 16) % 688) + i;
			if (i >= 8)
			{
				if (correctTail[i - 8] == myArray[y] && correctHeader[i] == myArray[x])
				{
					cout << "Passed: " << x << endl;
					key[i] = currentShift + 48;
					break;
				}
			}
			else if (i < 8)
			{
				if (correctHeader[i] == (myArray[x]))
				{
					cout << "Passed: " << x << endl;
					key[i] = currentShift + 48;
					break;
				}
			}
			*/
		}
	}

	cout << endl;

	for (int i = 0; i < LEN; i ++)
	{
		cout << key[i] << " ";
	}

	// 55 52 52 55 56 50 57 49 48 56 48 51 53 52 57 54
	//                         90 57 49             71
	//                            58 50
	//                            61
	//                            68

	// 55 52 52 55 56 50 57 49 48 56 48 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 56 48 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 56 49 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 56 49 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 56 50 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 56 50 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 57 48 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 57 48 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 57 49 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 57 49 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 57 50 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 57 50 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 58 48 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 58 48 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 58 49 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 58 49 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 58 50 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 58 50 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 61 48 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 61 48 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 61 49 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 61 49 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 61 50 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 61 50 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 68 48 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 68 48 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 68 49 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 68 49 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 48 68 50 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 48 68 50 51 53 52 57 71

	// 55 52 52 55 56 50 57 49 90 56 48 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 56 48 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 56 49 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 56 49 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 56 50 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 56 50 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 57 48 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 57 48 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 57 49 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 57 49 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 57 50 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 57 50 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 58 48 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 58 48 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 58 49 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 58 49 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 58 50 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 58 50 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 61 48 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 61 48 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 61 49 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 61 49 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 61 50 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 61 50 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 68 48 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 68 48 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 68 49 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 68 49 51 53 52 57 71
	// 55 52 52 55 56 50 57 49 90 68 50 51 53 52 57 54
	// 55 52 52 55 56 50 57 49 90 68 50 51 53 52 57 71







	// 55
	// 52
	// 52
	// 55
	// 56
	// 50
	// 57
	// 49

	// 48 90
	// 56 57 58 61 68
	// 48 49 50
	// 51
	// 53
	// 52
	// 57
	// 54 71

	// 08035496

	return 0;
}
